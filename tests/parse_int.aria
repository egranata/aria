# SPDX-License-Identifier: Apache-2.0
func main() {
    assert(12345 == Int.parse("12345").unwrap_Some());
    assert(67890 == Int.parse("67890").unwrap_Some());
    assert(-12 == Int.parse("-12").unwrap_Some());
    assert Int.parse("-0xabcdef").unwrap_Some() == -0xABCDEF;
    assert Int.parse("0b000110011").unwrap_Some() == 51;
    assert(12345 == Int.parse("+12345").unwrap_Some());
    assert(0 == Int.parse("+0").unwrap_Some());
    assert(0 == Int.parse("-0").unwrap_Some());
    assert Int.parse("0xFF").unwrap_Some() == 255;
    assert Int.parse("0B101").unwrap_Some() == 5;
    assert Int.parse("0O377").unwrap_Some() == 255;

    assert Int.parse("").is_None();
    assert Int.parse("-abcdef").is_None();
    assert Int.parse("15a46").is_None();
    assert Int.parse("0xG").is_None();
    assert Int.parse("0b2").is_None();
    assert Int.parse("0o8").is_None();

    assert Int.parse_radix("abcDEf", 16).unwrap_Some() == 0xABCDEF;
    assert Int.parse("-0xabcDEf").unwrap_Some() == -0xABCDEF;
    assert Int.parse_radix("011110111", 2).unwrap_Some() == 0b011110111;
    assert Int.parse_radix("12345", 6).unwrap_Some() == 1865;
    assert Int.parse_radix("1A", 31).unwrap_Some() == 41;

    assert Int.parse_radix("1A", 2).is_None();
    assert Int.parse_radix("aBC", 10).is_None();
    assert Int.parse_radix("$#@!", 16).is_None();

    assert Int.parse_radix("123", 55).is_None();
    assert Int.parse_radix("123", 1).is_None();

    assert Int.parse("--10").is_None();
    assert Int.parse("++10").is_None();
    assert Int.parse("+-10").is_None();
    assert Int.parse("+").is_None();
    assert Int.parse("-").is_None();
    assert Int.parse("1234abc").is_None();
}
