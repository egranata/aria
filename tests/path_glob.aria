import Path from aria.io.path;
import Set from aria.structures.set;

func main() {
    val glob_iter = Path.glob("**/*.aria")!!;
    
    val expected_paths = Set.new_with_items(
        "tests/path_glob.aria",
        "lib/aria/io/path.aria",
    );
    
    for path in glob_iter {
        expected_paths.remove(path.prettyprint());
    }
    
    assert expected_paths.len() == 0;

    val glob_iter = Path.glob("**/*.pepepapa")!!;
    assert glob_iter.count() == 0;
    
    val glob_iter = Path.glob("a**/b/*.yml");
    assert glob_iter.is_Err();
}