# SPDX-License-Identifier: Apache-2.0
import ok,err from aria.core.result;

struct Number {
    type func new(x) = alloc(This) {.x};

    func _op_try_view() {
        if this.x == 5 {
            return ok(this.x);
        } else {
            return err("not five");
        }
    }
}

func main() {
    val five = Number.new(5);
    val six = Number.new(6);

    assert five?? == 5;
    assert five!! == 5;

    assert six??.is_Err();
    assert six??.unwrap_Err() == "not five";
}
