# SPDX-License-Identifier: Apache-2.0
struct HasOpCall {
    operator ()() {
        return 123;
    }
}

struct CanBeCalled {
    type func new() {
        return alloc(This);
    }

    operator ()() {
        return alloc(HasOpCall)();
    }
}

func main() {
    # should this really be supported?
    assert (CanBeCalled.new())() == 123;
}
